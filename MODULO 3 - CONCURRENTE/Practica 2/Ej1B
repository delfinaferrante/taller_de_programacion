programa Ej1B
procesos
  proceso juntarFlores(ES flores:numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      flores:=flores+1
  fin
areas
  area1: AreaP (1,1,1,10)
  area2: AreaP (2, 11, 2, 20)
  areaFisc: AreaP (2, 1, 2, 1)
robots
  robot juntadores
  variables
    flores, numRobot, max:numero
  comenzar
    flores:=0
    max:= 0
    RecibirMensaje(numRobot, robot3)
    repetir 9
      juntarFlores(flores)
      mover
    si(HayFlorEnLaEsquina)
      juntarFlores(flores)
    EnviarMensaje(numRobot, robot3)
    EnviarMensaje(flores,robot3)
  fin
  robot fiscalizador
  variables
    numRobot, floresR1, floresR2:numero
  comenzar
    EnviarMensaje(1, robot1)
    EnviarMensaje(2, robot2)
    repetir 2
      RecibirMensaje(numRobot, *)
      si (numRobot = 1)
        RecibirMensaje(floresR1, robot1)
      sino
        RecibirMensaje(floresR2, robot2)
    si(floresR1 > floresR2)
      Informar(floresR1-floresR2)
    sino
      Informar(floresR2-floresR1)
  fin
variables
  robot1, robot2: juntadores
  robot3: fiscalizador
comenzar
  AsignarArea(robot1, area1)
  AsignarArea(robot2, area2)
  AsignarArea(robot3, areaFisc)
  Iniciar(robot1, 1,1)
  Iniciar(robot2, 2, 11)
  Iniciar(robot3, 2, 1)
fin