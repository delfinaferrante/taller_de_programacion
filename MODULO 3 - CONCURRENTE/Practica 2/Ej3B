programa Ej3B
procesos
  proceso juntarFlores(ES flores:numero)
  comenzar
    mientras(HayFlorEnLaEsquina)
      tomarFlor
      flores:= flores+1
  fin
  proceso recorridoEquipoB(ES flores:numero)
  comenzar
    repetir 9
      juntarFlores(flores)
      mover
    si(HayFlorEnLaEsquina)
      juntarFlores(flores)
  fin
  proceso juntarPapeles(ES papeles:numero)
  comenzar
    mientras(HayPapelEnLaEsquina)
      tomarPapel
      papeles:= papeles+1
  fin
  proceso recorridoEquipoA(ES papeles:numero)
  comenzar
    repetir 9
      juntarPapeles(papeles)
      mover 
    si(HayPapelEnLaEsquina)
      juntarPapeles(papeles)
  fin
areas
  areaEquipoA: AreaPC (1,1,41,1)
  areaEquipoB: AreaPC (1,5,41,5)
robots
  robot robotA1
  variables
    papeles:numero
    continuar:boolean
  comenzar
    papeles:=0
    derecha
    recorridoEquipoA(papeles)
    continuar:= V
    EnviarMensaje(continuar, a2)
    EnviarMensaje(papeles, a2)
    Pos(PosAv+11, 1)
    recorridoEquipoA(papeles)
    EnviarMensaje(continuar, a2)
    EnviarMensaje(papeles, a2)
  fin
  robot robotB1
  variables
    flores:numero
    continuar:boolean
  comenzar
    flores:=0
    derecha
    recorridoEquipoB(flores)
    continuar:= V
    EnviarMensaje(continuar, b2)
    EnviarMensaje(flores,b2)
    Pos(PosAv+11,5)
    recorridoEquipoB(flores)
    EnviarMensaje(continuar,b2)
    EnviarMensaje(flores, b2)
  fin
  robot robotA2
  variables
    papelesA1, papelesA2: numero
    continuo:boolean
  comenzar
    papelesA2:=0
    derecha
    RecibirMensaje(continuo, a1)
    si(continuo = V)
      RecibirMensaje(papelesA1, a1)
      recorridoEquipoA(papelesA2)
      Informar("cant total de papeles", (papelesA1+papelesA2))
      Pos(PosAv+11,1)
      recorridoEquipoA(papelesA2)
      Informar("cant total de papeles", (papelesA1+papelesA2))
  fin
  robot robotB2
  variables
    floresB1, floresB2:numero
    continuo:boolean
  comenzar
    floresB2:= 0
    derecha
    RecibirMensaje(continuo, b1)
    si(continuo = V)
      RecibirMensaje(floresB1, b1)
      recorridoEquipoB(floresB2)
      Informar("cant total de flores", (floresB1+floresB2))
      Pos(PosAv+11,5)
      recorridoEquipoB(floresB2)
      Informar("cant total de flores", (floresB1+floresB2))
  fin
variables
  a1: robotA1
  a2: robotA2
  b1: robotB1
  b2: robotB2
comenzar
  AsignarArea(a1, areaEquipoA)
  AsignarArea(a2, areaEquipoA)
  AsignarArea(b1, areaEquipoB)
  AsignarArea(b2, areaEquipoB)
  Iniciar(a1, 1,1)
  Iniciar(a2, 11, 1)
  Iniciar(b1, 1, 5)
  Iniciar(b2, 11, 5)
fin